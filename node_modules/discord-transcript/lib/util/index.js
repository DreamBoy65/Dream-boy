let config = require("../../config.json");
let axios = require("axios");
let Discord = require("discord.js");

/**
 * @param {number} transcriptID Transcript ID
 * @returns {string}
 */

module.exports.GenerateURL = async(transcriptID) => {
    return `${config.base}?id=${transcriptID}`;
}

/**
 * @param {Discord.Message} msg Discord Message
 * @param {string} event Event
 * @returns {Discord.Message}
 */
module.exports.LogEvent = async(msg, event, ) => {
    if(config.log_channel === 'false' || !config.log_channel) return null;

    
    let log = await msg.guild.channels.cache.get(config.log_channel);
    if(!log) throw Error(`Invalid Log Channel ID`);
    
    if(event === 'generate'){
       return log.send(new Discord.MessageEmbed()
        .setTitle(`New Event Logged`)
        .setColor('GREEN')
        .setDescription(`A transcript was generated for ${msg.channel.name}`)
        .setFooter(`Discord Transcript | dtranscript.cf/npm`, 'https://discord-transcript.herokuapp.com/logo.png')
        )
        
    }
} 